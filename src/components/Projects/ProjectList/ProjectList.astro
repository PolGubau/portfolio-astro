---
import { getCollection } from "astro:content";
import ProjectItem from "../Project/ProjectItem.astro";

const unorderedProjects = await getCollection("projects");

// order projects by date

const projects = unorderedProjects.sort((a, b) => {
  const aDate = new Date(a.data.date);
  const bDate = new Date(b.data.date);
  return Number(bDate) - Number(aDate);
});
---

<ul
  id="projectList"
  class="gap-8 px-8 pb-8 max-w-5xl grid grid-cols-1 md:grid-cols-2 w-full"
>
  {projects.map((p, i) => <ProjectItem project={p} index={i} />)}
</ul>
